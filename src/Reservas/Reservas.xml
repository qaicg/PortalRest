<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd">

<suite name="*Test* Pruebas de Reservas en Booking versión 2 -> Realizar, Modificar y cancelar Reservas (**Servidor Master QA09 -> https://cloudquality03.hiopos.com/portalrest**)" verbose="1" preserve-order="true">
	
	<listeners>
		<listener class-name="com.vimalselvam.testng.listener.ExtentTestNgFormatter" />
	</listeners>
	
	<parameter name="report.config" value="C:\Users\QA\portalrestproject\test-output\extent-config.xml" />
	<parameter name="expectedTitle" value="PortalRest Booking" /> <!--Titulo de la página -->
	<parameter name="titleHeader" value="Ingrese los detalles de su reserva" /> <!-- Titulo formulario Reserva-->
	
	<parameter name="test" value="true" /> <!-- Entorno de test -->
	<parameter name="urlEmail" value="https://login.yahoo.com/" /> <!-- Enlace del correo electrónico: utilizamos el de yahoo.com -->

	<!-- Informacion del Restaurante -->
		<parameter name="emailRestaurante" value="prtreservascomercio@yahoo.com" /> <!-- el correo elctronico del establecimiento/Restaurante -->
		<parameter name="passwordRestaurante" value=".1234abcd2023" /> <!-- Contraseña -->
		<parameter name="nombreRestaurante" value="hosteleriab9" /> <!-- el nombre del  establecimiento/Restaurante -->
		<parameter name="direccionRestaurante" value="Mestral S/N, 25123 Torrefarrera" /> <!-- Direccion del establecimiento/Restaurante --> 
		<parameter name="telefonoRestaurante" value="973123456" /> <!-- Telefono del cliente -->
		<parameter name="emailNotificacionReservas" value="prtreservascomercio@yahoo.com" /> <!-- El email de notificacion de reservas al restaurante-->
	
	<!-- FIN Informacion del Restaurante -->
	
	<!-- Informacion del Cliente -->
		<parameter name="telefono" value="666554433" /> <!-- Telefono del cliente -->
		<parameter name="prefijo" value="+34" /> <!-- Prefijo telefónico o indicativo del pais -->
		
		<parameter name="tipoCliente" value="" /> <!-- indicar el tipo de cliente para la reserva -->
		<parameter name="nombreCliente" value="" /> <!-- Nombre del cliente -->
		
		<parameter name="emailCliente" value="prtreservascliente@yahoo.com" /> <!-- el correo electronico del cliente -->
		<parameter name="passwordCliente" value=".1234abcd2023" /> <!-- Contraseña -->

	<!-- FIN Informacion del Cliente -->
	
	<!-- Informacion de la Reserva -->
		<parameter name="dia" value="hoy" /> <!-- El dia de la reserva: hoy, si es vacio o null se considera como hoy -->
		<parameter name="hora" value="" /> <!-- Elegir la hora de la reserva-->
		<parameter name="numeroPersona" value="1" /> <!-- El numero de persona para la reserva -->
		<parameter name="sala" value="" /> <!-- la sala de la reserva -->
		
		<parameter name="modo" value="cliente" /> <!-- el modo de acceso a la reserva: admin o cliente -->
		
		<parameter name="literalLocalizador" value="Localizador" /> <!-- Literal del label Localizador-->
		<parameter name="localizador" value="" /> <!-- El campo Localizador  -->
	
		<parameter name="existeRoom" value="false" />
		<parameter name="stringLabelRoom" value="sala" />
		<parameter name="room" value="" /> <!-- Salas activadas en los turnos -->
		
		<parameter name="literalObserciones" value="Observaciones" /> <!-- Literal del label Observaciones-->
		<parameter name="observaciones" value="" /> <!-- El campo Observación  -->

		<parameter name="numeroCliente" value="1" /> <!-- Numero cliente -->
		
		<parameter name="confirmacionReseva" value="Tu reserva ha sido confirmada" /><!-- confirmacion de la nueva reserva al cliente/admin-->
		<parameter name="insertBooking" value="true" />  <!-- Creacion de la reserva -->
		<parameter name="iconeNotification" value="check_circle_outline" /> <!-- Icono notificación de confirmación nueva reserva en booking-->
		<parameter name="citaReserva" value="" /> <!-- Cita de la reserve-->
		<parameter name="infoDetails" value="" /> <!-- info detail a validar -->
	
	<!--FIN Informacion de la Reserva -->

	<!-- Informacion de validacion de correo de notitificación al cliente -->
	<parameter name="asuntoEmail" value="" />
	<parameter name="textConfirmacionReservaAlCliente" value="Estimado {nombreCliente}. Le confirmamos a continuación los datos de su reserva: {fechaReserva}, a las {horaReserva}, para 1 personas en el restaurante {NombreRestaurante}." />
	
	<!-- Fin validacion notitficacion al cliente -->
	
	<!-- Informacion de validacion de correo de notitificacion al restaurante -->
	<parameter name="asuntoEmailRestaurante" value="Nueva reserva en {NombreRestaurante}" />
	<parameter name="textConfirmacionReservaAlRestaurante" value="Ha entrado una nueva reserva como Confirmado en el restaurante {NombreRestaurante} con los siguientes datos: {fechaReserva} {horaReserva} PAX: {numeroPersona} {nombreCliente} {tipoCliente} {telefonoCliente} {emailCliente} {observaciones}" />
	
	<!-- Fin validacion notitficacion al cliente -->
	
	<parameter name="aceptarTerminosCondiciones" value="true" /> <!-- Aceptar los terminos y condiciones del restaurante-->
	<parameter name="aceptarPoliticaCancelacion" value="true" /> <!-- Aceptar la politica de cancelación del restaurante-->
	<parameter name="aceptarComunicacionesComerciales" value="false" /> <!-- Aceptar recibir las comunicaciones comerciales del restaurante-->
	
	<parameter name="testPlusMenosBtn" value="false" /> <!-- Botones plus menos (- +) -->
	
	<parameter name="resultatEsperado" value="true" /> <!-- -->
	

	<!--Prueba  de Reserva simple con salas -->
	<test name="Prueba de reserva simple con salas en booking de PortalRest" enabled="true" preserve-order="true">
		<parameter name="Url" value="https://booking00.hiopos.com/booking?data=%3D%3DQZzxWYm1jbp1GZhZSO2EDN2ETPklEcvh2c" />
		<parameter name="shop" value="43496" />
		<parameter name="existeRoom" value="true" />
		<parameter name="insertBooking" value="true" />
		
		<classes>
			<class name="AbrePortalRest.AbrirUrl" />
			<class name="Verificaciones.VerificarCookies" />
			<class name="Reservas.Reserva">
				<methods>
					<parameter name="room" value="Comedor" />
					<parameter name="dia" value="7/02/2023" />
					<parameter name="hora" value="12:30" />
					<parameter name="numeroCliente" value="1" />
					<parameter name="citaReserva" value="martes, 7 de febrero de 2023" />
					<parameter name="infoDetails" value="persona a las" />
					
					<parameter name="testPlusMenosBtn" value="false" />
					
					<include name="selectedDay" />
					
					<include name="inputNumberPerson">
						<parameter name="numeroCliente" value="1" />
					</include>
					
					<include name="selectRoom" />
					<include name="selectHour" />
					<include name="realizarReserva">
						<parameter name="resultatEsperado" value="true" />
					</include>
					<include name="createBooking">
						<parameter name="aceptarComunicacionesComerciales" value="true" />
					</include>
					<include name="validateEmailClientBooking">
						<parameter name="textConfirmacionReservaAlCliente" value="" />
					</include>
					
					<include name="validateEmailRestaurantBooking"></include>
					
				</methods>
			</class>
			
			<!--class name="Reservas.MailReading">
				<parameter name="textConfirmacionReservaAlCliente" value="" />
				<methods>
					<include name="openWebMail"></include>
				</methods>
			</class-->
			<!-- FIN -->
			
		</classes>
	
	</test>

	<test name="Comprobar el funccionamiento de los botones(Pax de personar) mas o menos y el ingreso de datos en los campos sala y hora" enabled="false" preserve-order="true">
		<parameter name="Url" value="https://booking00.hiopos.com/booking?data=%3D%3DQZzxWYm1jbp1GZhZSO2EDN2ETPklEcvh2c" />
		<parameter name="shop" value="43496" />
		<parameter name="existeRoom" value="true" />
		<parameter name="insertBooking" value="false" />
		
		<classes>
			<class name="AbrePortalRest.AbrirUrl" />
			<class name="Verificaciones.VerificarCookies" />
			<class name="Reservas.Reserva">
				<methods>
					<parameter name="room" value="Terrazza" />
					
					<parameter name="dia" value="2" />
					<parameter name="hora" value="15:30" />
					
					<parameter name="testPlusMenosBtn" value="true" />
					
					<include name="selectedDay" />
					
					<include name="verificarBotonesPlusMenos">
						<parameter name="numeroCliente" value="5" />
					</include>
					
					<include name="inputNumberPerson">
						<parameter name="numeroCliente" value="2" />
					</include>
					
					<include name="selectHour" />
					
					<!--include name="realizarReserva">
						<parameter name="resultatEsperado" value="true" />
					</include-->
					
				</methods>
			</class>
		</classes>
	
	</test>

	
	<test name="Prueba de reserva simple sin salas en booking de PortalRest" enabled="false" preserve-order="true">
		<parameter name="Url" value="https://booking00.hiopos.com/booking?data=%3D%3DQZzxWYm1jbp1GZhZCN5gTN2ETPklEcvh2c" />
		<parameter name="shop" value="43496" />
		
		<classes>
			<class name="AbrePortalRest.AbrirUrl" />
			<class name="Verificaciones.VerificarCookies" />
			<class name="Reservas.Reserva">
				<methods>
					<parameter name="dia" value="2" />
					<parameter name="hora" value="15:30" />
					<parameter name="numeroCliente" value="2" />
					
					<parameter name="testPlusMenosBtn" value="true" />
					
					<include name="selectedDay" />
					
					<!--include name="verificarBotonesPlusMenos">
						<parameter name="numeroCliente" value="5" />
					</include-->
					
					<include name="inputNumberPerson">
						<parameter name="numeroCliente" value="2" />
					</include>
					
					<include name="selectHour" />
					<include name="realizarReserva">
						<parameter name="resultatEsperado" value="true" />
					</include>
					
				</methods>
			</class>
		</classes>
	
	</test>
	
	<test name="Prueba Reading mail" enabled="false" preserve-order="true">
		<parameter name="Url" value="https://login.yahoo.com/" />
		<parameter name="textConfirmacionReservaAlCliente" value="" />
		
		<classes>
			
			<class name="AbrePortalRest.AbrirUrl" />
			<class name="Reservas.MailReading">
				<methods>
					<include name="openWebMail"></include>
					<!--include name="readEmailClient"></include -->
				</methods>
			</class>
		
		</classes>
	</test>
	


</suite>